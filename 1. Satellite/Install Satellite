###This tutorial will help you install Red Hat Satellite
1) Set hostname
vim /etc/hosts
127.0.0.1 srv-satellite.systemtest.local  srv-satellite

2) Download file iso https://access.redhat.com/products/red-hat-satellite

3) Mount file satellite-6.10.3-rhel-7-x86_64-dvd.iso to Server
mkdir /mnt/satellite-6
mount /dev/sr0 /mnt/satellite-6

4) Convert SSL and copy Custom SSL to Server
openssl x509 -inform DER -in root-ca.cer -out root-ca.crt
openssl x509 -inform DER -in wildcard-systemtest.cer -out wildcard-systemtest.crt

mkdir /etc/pki/tls/satellite
cp *.systemtest* /etc/pki/tls/satellite
cp root-ca.crt /etc/pki/tls/satellite
update-ca-trust

5) Install Red Hat Satellite
cd /mnt/satellite-6
 ./install_packages
 
satellite-installer --scenario satellite \
--foreman-initial-admin-username admin \
--foreman-initial-admin-password QWEasdQWE123 \
--certs-server-cert "/etc/pki/tls/satellite/wildcard-systemtest.crt" \
--certs-server-key "/etc/pki/tls/satellite/wildcard-systemtest.key" \
--certs-server-ca-cert "/etc/pki/tls/satellite/root-ca.crt"

6) Open firewall
firewall-cmd --add-port={80,443,5646,8443,9090}/tcp --permanent
firewall-cmd --reload
