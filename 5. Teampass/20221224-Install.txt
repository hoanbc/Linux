sudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
sudo yum install -y https://rpms.remirepo.net/enterprise/remi-release-7.rpm

yum install yum-utils
yum module enable php:remi-8.0 -y
sudo yum-config-manager --enable remi-php80

yum install php php-cli php-common php-mbstring php-bcmath php-xml php-gd php-mysql php-ldap mariadb-server httpd git -y

systemctl enable --now mariadb
mysql_secure_installation
mysql -u root -p
MariaDB [(none)]> create database teampassdb character set utf8 collate utf8_bin;
MariaDB [(none)]> grant all privileges on teampassdb.* to teampassuser@localhost identified by "123@123a";
MariaDB [(none)]> flush privileges;


vim /etc/php.ini
memory_limit = 2048M
upload_max_filesize = 10M
max_execution_time = 30
date.timezone = Asia/Ho_Chi_Minh

cd /var/www/html
git clone https://github.com/nilsteampassnet/TeamPass.git
cd TeamPass/
mkdir includes/libraries/csrfp/log
chmod -R 775 /var/www/html/TeamPass
chown -R apache:apache /var/www/html/TeamPass
sudo chmod 0777 install/ includes/ includes/config/ includes/avatars/ includes/libraries/csrfp/libs/ includes/libraries/csrfp/js/ includes/libraries/csrfp/log/ files/ upload/

vim /etc/httpd/conf.d/teampass.conf
<VirtualHost *:80>   
     ServerAdmin devops@testvn.click
     DocumentRoot /var/www/html/TeamPass   
     ServerName teampass.testvn.click
     <Directory /var/www/html/TeamPass>

          Options FollowSymlinks
          AllowOverride All
          Require all granted
     </Directory>   

     ErrorLog /var/log/httpd/teampass_error.log
     CustomLog /var/log/httpd/teampass_access.log combined

</VirtualHost>


systemctl enable --now httpd
rm -rf install/

option if firewalld is enable: firewall-cmd --add-service={http,httpd} --permanent

access website: http://teampass.testvn.click/install/install.php